<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Vendor Sales Analytics</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "DM Sans", sans-serif;
        }
        nav{
            padding: 3%;
        }

        .filter-controls {
            margin: 20px 50px;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-controls .field {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-controls label {
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            color: #333;
        }

        .filter-controls select {
            padding: 10px 15px;
            border: 2px solid #60935D;
            border-radius: 8px;
            font-family: "DM Sans", sans-serif;
            font-size: 14px;
            cursor: pointer;
        }

        .filter-controls select:hover {
            border-color: #93a392;
        }

        .filter-controls select:focus {
            outline: none;
            border-color: #0D6E5F;
        }

        .chart {
            padding: 30px;
        }

        .chart canvas {
            background-color: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            height: 350px
        }

        .chart header {
            margin-bottom: 20px;
        }

        .chart h3 {
            font-size: 20px;
            color: #333;
        }

        .card {
            padding: 20px 0;
        }

        h2 {
            text-align: center;
            font-size: 50px;
            margin: 0;
        }

        .split {
            background-color: #f5f5f5;
            padding: 30px;
            margin: 20px 50px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .note {
            display: flex;
            flex-wrap: wrap;
            padding-top: 30px;
            gap: 15px;
        }

        .popItem {
            width: 18%;
            background-color: #fff;
            border-radius: 12px;
            margin: 10px auto;
            overflow: hidden; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .popItem:hover {
            box-shadow: 0 4px 12px #F4CCCC;
            transform: translateY(-5px);
        }

        .popItem img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .items header,
        .list header {
            margin-top: 40px;
            margin-bottom: 10px;
        }

        .list {
            background-color: #f5f5f5;
            padding: 30px;
            margin: 20px 50px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .inspection-card {
            width: 90%;
            margin: 20px auto;
        }

        .inspection-table {
            background-color: #fff;
            border-radius: 12px;
            width: 100%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-collapse: collapse;
            overflow: hidden;
        }

        .inspection-table th {
            text-align: left;
            padding: 15px;
            font-weight: 600;
            color: white;
            border-bottom: 2px solid #5998C5;
            background-color: #69a2b0;
        }

        .inspection-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .inspection-table tbody tr:hover {
            background-color: #f5f5f5;
        }

        .satisfaction {
            background-color: #f5f5f5;
            padding: 30px;
            margin: 20px 50px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .satisfaction-overview {
            display: flex;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .stat-card {
            flex: 1;
            min-width: 200px;
            background-color: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-card h4 {
            color: #666;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .stat-number {
            font-size: 36px;
            font-weight: bold;
            color: #0D6E5F;
            margin: 10px 0;
        }

        .stat-subtext {
            font-size: 12px;
            color: #999;
        }

        .rating-stars {
            color: #FFC107;
            font-size: 24px;
            margin: 5px 0;
        }

        .reviews-container {
            margin-top: 30px;
        }

        .review-card {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid #5998C5;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .review-rating {
            color: #FFC107;
            font-size: 16px;
        }

        .review-date {
            color: #999;
            font-size: 13px;
        }

        .review-text {
            color: #333;
            line-height: 1.6;
            margin: 10px 0;
        }

        .review-sentiment {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 8px;
        }

        .sentiment-positive {
            background-color: #59a96a;
            color: #fff;
        }

        .sentiment-neutral {
            background-color: #93a392;
            color: #fff;
        }

        .sentiment-negative {
            background-color: #b6174b;
            color: #fff;
        }

        .complaints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .complaint-category {
            background-color: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .complaint-category h5 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .complaint-count {
            font-size: 32px;
            font-weight: bold;
            color: #5998C5;
            margin: 10px 0;
        }

        .complaint-bar {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .complaint-fill {
            height: 100%;
            background-color: #5998C5;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .popItem {
                width: 45%;
            }

            .filter-controls {
                margin: 20px;
            }

            .split {
                margin: 20px;
            }

            satisfaction-overview {
                flex-direction: column;
            }

            .stat-card {
                min-width: 100%;
            }
        }

    </style>
</head>
<body>
    <nav>SUIIIII</nav>

    <h2>Stall Overview</h2>
    <section class="card">
        <div class="filter-controls">
            <div class="field">
                <label for="view">Sales view</label>
                <select id="view">
                    <option value="byDay">Sales by day</option>
                    <option value="byHour" selected>Sales by hour</option>
                </select>
            </div>
        </div>

        <div class="split">
            <div class="chart">
                <header>
                    <h3 id="salesChartTitle">Sales by Day</h3>
                </header>
                <div id="graph">
                    <canvas id="salesChart" aria-label="Sales chart"></canvas>
                </div>
            </div>

            <div class="items">
                <header>
                    <h3>Popular Items</h3>
                    <span class="muted">Top 5</span>
                </header>
                <div class="note" id="popularItems"></div>
            </div>
        </div>
    </section>

    <section class="card">  
        <div class="list">
            <header>
                <h3>Hygiene Inspection History</h3>
                <span class="muted">Latest records</span>
            </header>
            <div class="inspection-card">
                <table class="inspection-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Inspector</th>
                            <th>Score</th>
                            <th>Grade</th>
                        </tr>
                    </thead>
                    <tbody id="inspectionHistory">
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section>
        <div class="satisfaction">
            <header>
                <h3>Customer Satisfaction</h3>
                <span class="muted">Recent feedback & insights</span>
            </header>

            <!-- Overview Stats -->
            <div class="satisfaction-overview">
                <div class="stat-card">
                    <h4>Overall Rating</h4>
                    <div class="rating-stars" id="overallStars">★★★★☆</div>
                    <div class="stat-number" id="overallRating">4.2</div>
                    <div class="stat-subtext">out of 5.0</div>
                </div>
                <div class="stat-card">
                    <h4>Total Reviews</h4>
                    <div class="stat-number" id="totalReviews">342</div>
                    <div class="stat-subtext">this month</div>
                </div>
                <div class="stat-card">
                    <h4>Total Complaints</h4>
                    <div class="stat-number" id="totalComplaints">28</div>
                    <div class="stat-subtext">8.2% of orders</div>
                </div>
            </div>

                <!-- Recent Reviews -->
            <div class="reviews-section">
                <header style="margin-top: 40px; margin-bottom: 10px;">
                    <h3>Recent Customer Reviews</h3>
                </header>
                <div class="reviews-container" id="reviewsList"></div>
            </div>

                <!-- Complaint Categories -->
            <div class="complaints-section">
                <header style="margin-top: 40px; margin-bottom: 10px;">
                    <h3>Complaint Categories</h3>
                </header>
                <div class="complaints-grid" id="complaintsGrid"></div>
            </div>
        </div>
    </section>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const chartData = {
  byDay: {
    labels: ["Mon", "Tue", "Wed", "Thu", "Fri"],
    data: [120, 150, 145, 127, 151],
    title: "Sales by Day (Last Week)"
  },
  byHour: {
    labels: ["07 - 10", "10 - 13", "13 - 16", "16 - 19", "19 - 22"],
    data: [20, 39, 44, 41, 15],
    title: "Sales by Hour (Today)"
  }
};

const ctx = document.getElementById("salesChart");

const salesChart = new Chart(ctx, {
  type: "bar",
  data: {
    labels: chartData.byHour.labels,
    datasets: [{
      data: chartData.byHour.data,
      backgroundColor: "#59a96a",
      borderRadius: 6,
      barThickness: 40
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    scales: {
      x: { grid: { display: false } }
    },
    plugins: {
      legend: { display: false }
    }
  }
});

const viewSelect = document.getElementById("view");

viewSelect.addEventListener("change", () => {
  const selectedView = viewSelect.value;
  const selectedData = chartData[selectedView];

  // Update chart data
  salesChart.data.labels = selectedData.labels;
  salesChart.data.datasets[0].data = selectedData.data;

  // Update title
  document.getElementById("salesChartTitle").textContent = selectedData.title;

  salesChart.update();
});

const data = [
  { img: "Menu Images/Rojak.jpg", text: "Rojak" },
  { img: "Menu Images/Cockle Laksa.jpg", text: "Laksa" },
  { img: "Menu Images/Popiah.jpeg", text: "Popiah" },
  { img: "Menu Images/Chicken Satay Sticks.jpg", text: "Chicken Satay" },
  { img: "Menu Images/Tau Pok.jpg", text: "Tau Pok" }
];

const container = document.getElementById("popularItems");

data.forEach(item => {
  const card = document.createElement("div");
  card.className = "popItem";

  card.innerHTML = `
    <img src="${item.img}" alt="">
    <p>${item.text}</p>
  `;

  container.appendChild(card);
});

const inspections = [
  {
    date: "2025-01-15",
    inspector: "NEA",
    score: 92,
    grade: "A"
  },
  {
    date: "2024-09-10",
    inspector: "NEA",
    score: 78,
    grade: "B"
  },
  {
    date: "2024-05-03",
    inspector: "NEA",
    score: 55,
    grade: "C"
  }
];

const inspectionTable = document.getElementById("inspectionHistory");

inspections.forEach(item => {
  const row = document.createElement("tr");

  row.innerHTML = `
    <td>${item.date}</td>
    <td>${item.inspector}</td>
    <td>${item.score}</td>
    <td>
      ${item.grade}
    </td>
  `;

  inspectionTable.appendChild(row);
});

const reviews = [
  {
    rating: 5,
    date: "2025-02-05",
    text: "Amazing food! The chicken rice was delicious and service was fast. Definitely coming back!",
    sentiment: "positive"
  },
  {
    rating: 4,
    date: "2025-02-04",
    text: "Good quality food, though the wait time was a bit long during lunch hour.",
    sentiment: "neutral"
  },
  {
    rating: 2,
    date: "2025-02-03",
    text: "Food was cold when it arrived and portion size was smaller than expected.",
    sentiment: "negative"
  },
  {
    rating: 5,
    date: "2025-02-02",
    text: "Best laksa in the area! Love the rich broth and generous toppings.",
    sentiment: "positive"
  },
  {
    rating: 3,
    date: "2025-02-01",
    text: "Food is okay but nothing special. Price is reasonable though.",
    sentiment: "neutral"
  }
];

// Render reviews
const reviewsList = document.getElementById("reviewsList");

reviews.forEach(review => {
  const stars = "★".repeat(review.rating) + "☆".repeat(5 - review.rating);
  
  const reviewCard = document.createElement("div");
  reviewCard.className = "review-card";
  
  reviewCard.innerHTML = `
    <div class="review-header">
      <span class="review-rating">${stars}</span>
      <span class="review-date">${review.date}</span>
    </div>
    <div class="review-text">${review.text}</div>
    <span class="review-sentiment sentiment-${review.sentiment}">
      ${review.sentiment.charAt(0).toUpperCase() + review.sentiment.slice(1)}
    </span>
  `;
  
  reviewsList.appendChild(reviewCard);
});

// Complaint categories data
const complaintCategories = [
  {
    category: "Food Quality",
    count: 12,
    percentage: 43
  },
  {
    category: "Service Speed",
    count: 8,
    percentage: 29
  },
  {
    category: "Portion Size",
    count: 5,
    percentage: 18
  },
  {
    category: "Cleanliness",
    count: 3,
    percentage: 11
  }
];

// Render complaint categories
const complaintsGrid = document.getElementById("complaintsGrid");

complaintCategories.forEach(complaint => {
  const categoryCard = document.createElement("div");
  categoryCard.className = "complaint-category";
  
  categoryCard.innerHTML = `
    <h5>${complaint.category}</h5>
    <div class="complaint-count">${complaint.count}</div>
    <div class="complaint-bar">
      <div class="complaint-fill" style="width: ${complaint.percentage}%"></div>
    </div>
    <div class="stat-subtext">${complaint.percentage}% of complaints</div>
  `;
  
  complaintsGrid.appendChild(categoryCard);
});
</script>
</body>
</html>